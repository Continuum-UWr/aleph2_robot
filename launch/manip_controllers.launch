<launch>
    <arg name="output" default="screen"/>
    <arg name="loop_rate" default="30"/>

    <group ns="manip">
        <remap from="joint_states" to="/joint_states"/>

        <rosparam file="$(find aleph2_hardware_interface)/config/manip/joints.yaml" command="load"/>
        <rosparam file="$(find aleph2_hardware_interface)/config/manip/controllers.yaml" command="load"/>
        <rosparam file="$(find aleph2_hardware_interface)/config/manip/joint_limits.yaml" command="load"/>

        <node name="controller_manager" pkg="aleph2_hardware_interface" type="controller_manager"
                output="$(arg output)">
            <param name="control_loop_rate" value="$(arg loop_rate)"/>
        </node>

        <!-- <node name="controller_spawner1" pkg="controller_manager" type="spawner" respawn="false" output="$(arg output)" args="
            controllers/effort/base_to_frame
            controllers/effort/B_to_base
            controllers/effort/C_to_B
            controllers/effort/efector_to_C
            controllers/effort/efector_roll
            controllers/effort/efector_grip
            controllers/state
        "/> -->

        <node name="controller_spawner1" pkg="controller_manager" type="spawner" respawn="false" output="$(arg output)" args="
            controllers/velocity/base_to_frame
            controllers/velocity/B_to_base
            controllers/velocity/C_to_B
            controllers/velocity/efector_to_C
            controllers/velocity/efector_roll
            controllers/velocity/efector_grip
            controllers/state
        "/>

        <!-- <node name="controller_spawner2" pkg="controller_manager" type="spawner" respawn="false" output="$(arg output)" args="
            controllers/trajectory
            controllers/state
        "/> -->
    </group>
</launch>
